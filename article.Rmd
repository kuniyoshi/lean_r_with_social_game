---
title: "article"
author: "KUNIYOSHI Kouji"
date: "2015年10月2日"
output:
  html_fragment:
    self_contained: false
    toc: true
    fragment: true
---

``` {r set_figure, include = FALSE}
knitr::opts_chunk$set(fig.path = "learn_r/")
```

おはようございます、こんちには、こんばんは。技術開発部の国吉です。数年前からRとか統計の勉強をしています。最近になって理解度が上がってきました。理由を考えてみるとソーシャルゲームしているからだなと思い至ったので、ソーシャルゲームで学ぶRと題して記事を書きます。ソーシャルゲームをしていると確率とかイベントの進め方などでRを使うことが多いので、これまでは読むだけだった学習から、実践するようになったからだと思います。

ここで言っているソーシャルゲームは[スクールガールストライカーズ](http://schoolgirlstrikers.jp/)というアプリケーションです。スクスト、と略します。

スクストのイベントで効率良くスコアを稼ぐ方法をシミュレーションしたいので、今回はシミュレーションに使う条件をいくつか用意します。作る側は自分で定義しているのでルールを知っていますが、いちユーザとしては受けた結果から推測するしかないのです。

推測するためにはゲームをプレイした結果をサンプルしていかないといけないんですが、これは好きなものじゃないとできないと思います。Rの学習にソーシャルゲームがくっついている理由がこれです。私がどれくらいこのゲームが好きか、グラフが代弁してくれます。

[ツイート](https://twitter.com/purasiibo/status/637553697921208320?lang=ja)

まずは準備運動で、クーポン収集問題についてみてみます。

``` {r child = "article.d/how_many_times_to_complete_costumes.Rmd"}
```

---

今回は準備だけですが、シミュレーションしたいイベントは`協力戦`というもので、与えたダメージが大きいほどスコアがもらえるものです。スクストにはコンボボーナスがあってこのボーナスをもらうとコンボが起きやすくなります。コンボすると攻撃回数が増えるのでダメージが大きくなります。

コンボボーナスで攻撃力が変わる様子を見てましょう。

``` {r child = "article.d/how_many_times_combo_occuers.Rmd"}
```

---

`協力戦`イベントでスコアをもらう方法は2種類あります。ひとつ目は、敵を倒したときにもらえる、レポートスコアです。敵を倒したというレポートについてくるスコアです。もうひとつはダメージスコアです。敵に与えたダメージによってもらえるスコアです。

まずは、レポートスコアを見てみます。

``` {r child = "article.d/report_score.Rmd"}
```

---

レポートスコアは実はデータを読み上げるだけでいい、という状態でしたが、次はダメージスコアについて見てみましょう。

``` {r child = "article.d/damage_score.Rmd"}
```

---

ちょっと詰め込み過ぎてしまったかもしれません。これで協力戦イベントのスコアをシミュレーションする準備ができました。次はいよいよ、どの妖魔と戦うほうが効率がいいのか、ということのシミュレーションですが、これは次回にします。

この記事は[R Markdown](http://rmarkdown.rstudio.com)を使って書いていて、コードは[github.com](https://github.com/kuniyoshi/learn_r_with_social_game)に上がっています。
